{
  "$schema": "https://raw.githubusercontent.com/Azure/azure-devtestlab/master/schemas/2015-01-01/dtlArtifacts.json",
  "title": "DSC - Promote DC in New Domain",
  "description": "Promotes a server as the first domain controller in a new lab domain",
  "iconUri": "",
  "targetOsType": "Windows",
  "parameters": {
    "DomainName": {
      "type": "string",
      "displayName": "Domain Name",
      "description": "fully qualified DNS name for the new domain"
    },
    "UserName": {
      "type": "string",
      "displayName": "User Name",
      "description": "user name for the admin user"
    },
    "Password": {
      "type": "string",
      "displayName": "Password",
      "description": "Password for the domain admin user and safe mode"
    }
  },
  "runCommand": {
    "commandToExecute": "[concat('powershell.exe -File promote-dc-new-domain.ps1', ' -domainName ', parameters('DomainName'), ' -userName ', parameters('UserName'), ' -password ', parameters('Password'))]"
  }
}

